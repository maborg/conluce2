{"version":3,"file":"tHub.mjs","names":["dual","identity","HashSet","Option","RA","Effect","core","OpCodes","stm","tQueue","tRef","THubSymbolKey","THubTypeId","Symbol","for","makeNode","head","subscribers","tail","THubImpl","constructor","hubSize","publisherHead","publisherTail","requestedCapacity","strategy","subscriberCount","_a","_b","tEnqueueVariance","isShutdown","effect","journal","currentPublisherTail","unsafeGet","undefined","awaitShutdown","flatMap","unit","retry","size","withSTMRuntime","runtime","interruptAs","fiberId","succeed","isEmpty","map","isFull","capacity","shutdown","unsafeSet","currentSubscribers","forEach","subscriber","empty","offer","value","currentSubscriberCount","currentHubSize","updatedPublisherTail","TRefImpl","updatedNode","_tag","OP_BACKPRESSURE_STRATEGY","OP_DROPPING_STRATEGY","OP_SLIDING_STRATEGY","currentPublisherHead","loop","node","offerAll","iterable","a","every","TEnqueueTypeId","THubSubscriptionImpl","subscriberHead","_c","_d","tDequeueVariance","currentSubscriberHead","Number","MAX_SAFE_INTEGER","peek","peekOption","none","some","remove","take","takeAll","takeUpTo","POSITIVE_INFINITY","max","builder","n","push","TDequeueTypeId","makeHub","all","make","makeSubscription","tap","_","set","add","get","self","bounded","BackPressure","dropping","Dropping","publish","publishAll","sliding","Sliding","subscribe","subscribeScoped","acquireRelease","dequeue","unbounded"],"sources":["../../../src/internal/tHub.ts"],"sourcesContent":[null],"mappings":"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"}
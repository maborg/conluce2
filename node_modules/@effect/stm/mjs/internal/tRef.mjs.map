{"version":3,"file":"tRef.mjs","names":["dual","Option","core","Entry","Versioned","TRefSymbolKey","TRefTypeId","Symbol","for","tRefVariance","_A","_","TRefImpl","constructor","value","_a","versioned","todos","Map","modify","f","effect","journal","entry","getOrMakeEntry","retValue","newValue","unsafeGet","unsafeSet","make","ref","set","get","self","a","getAndSet","getAndUpdate","getAndUpdateSome","match","onNone","onSome","b","setAndGet","modifySome","fallback","update","updateAndGet","updateSome","updateSomeAndGet","has","undefined"],"sources":["../../../src/internal/tRef.ts"],"sourcesContent":[null],"mappings":"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"}
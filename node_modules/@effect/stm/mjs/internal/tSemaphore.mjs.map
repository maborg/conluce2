{"version":3,"file":"tSemaphore.mjs","names":["dual","Cause","Effect","core","tRef","STM","TSemaphoreSymbolKey","TSemaphoreTypeId","Symbol","for","TSemaphoreImpl","constructor","permits","_a","make","map","acquire","self","acquireN","n","withSTMRuntime","driver","IllegalArgumentException","value","unsafeGet","journal","retry","succeed","unsafeSet","available","get","release","releaseN","current","withPermit","semaphore","withPermits","uninterruptibleMask","restore","zipRight","commit","ensuring","withPermitScoped","withPermitsScoped","acquireReleaseInterruptible","unsafeMakeSemaphore","TRefImpl"],"sources":["../../../src/internal/tSemaphore.ts"],"sourcesContent":[null],"mappings":"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"}